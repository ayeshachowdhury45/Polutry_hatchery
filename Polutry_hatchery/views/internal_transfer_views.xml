<odoo>
    <!-- Action -->
    <record id="action_internal_transfer" model="ir.actions.act_window">
        <field name="name">Internal Transfers</field>
        <field name="res_model">internal.transfer</field>
        <field name="view_mode">list,form</field>
    </record>

    <!-- Menu -->
    <menuitem id="menu_internal_transfer_root" name="Internal Transfer" parent="menu_hatchery_management" sequence="20"/>
    <menuitem id="menu_internal_transfer_action" name="Manage Internal Transfers" parent="menu_internal_transfer_root" action="action_internal_transfer"/>

    <!-- List View -->
    <record id="view_internal_transfer_list" model="ir.ui.view">
        <field name="name">internal.transfer.list</field>
        <field name="model">internal.transfer</field>
        <field name="arch" type="xml">
            <list string="Internal Transfers">
                <field name="source_location"/>
                <field name="destination_location"/>
                <field name="chicks_count"/>
                <field name="transfer_date"/>
                <field name="state"/>
                <field name="picking_id"/>
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_internal_transfer_form" model="ir.ui.view">
        <field name="name">internal.transfer.form</field>
        <field name="model">internal.transfer</field>
        <field name="arch" type="xml">
            <form string="Internal Transfer">
                <header>
                    <!-- Buttons -->
                    <button name="action_done"
                            type="object"
                            string="Mark as Done"
                            class="btn-primary"/>
                    <button name="action_delivered"
                            type="object"
                            string="Mark as Delivered"
                            class="btn-success"/>
                    <!-- Status Bar -->
                    <field name="state" widget="statusbar" statusbar_visible="draft,done,delivered"/>
                    <!-- Picking Smart Button -->
                    <field name="picking_id" widget="many2one"
                           options="{'no_open': False}" context="{'form_view_ref':'stock.view_picking_form'}"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="source_location"/>
                            <field name="destination_location"/>
                        </group>
                        <group>
                            <field name="chicks_count"/>
                            <field name="transfer_date"/>
                        </group>
                    </group>
                    <group>
                        <field name="note"/>
                    </group>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>
</odoo>
